## HTTP

Hyper Text Transfer Protocol，超文本传输协议，基于**TCP/IP**的一个**应用层**协议，无状态协议（每一个请求都是独立的）

### 版本变迁

- 1.0：客户端每次与web服务器建立连接一次只能获取一个资源，每次都需要三次握手

- 1.1：允许客户端和web服务器建立连接后获取多个资源，现在绝大多数都是用的此协议（默认Connection:Keep-Alive）

- 2.0：多路复用机制，提高响应速度，允许通过单一的连接来发起多重的请求

### 访问过程

- 查询浏览器是否有IP缓存
- 无缓存则通过域名（也称主机名）从本机的的hosts文件中寻找（hosts文件被恶意修改就是DNS劫持）
- 上述本机操作没有寻找IP则向DNS域名解析服务器发起请求
- 获取到IP地址后，发起3次握手，建立TCP连接
- 生成HTTP请求报文（请求行、请求头、请求体），并发送
- 服务端返回给客户端HTTP响应包
- 浏览器解析HTML代码，并使用多线程下载其中的CSS、JS等素材
- 浏览器对页面进行渲染，呈现给用户

### 消息报文

#### 请求行

请求方式 / 地址 / 版本号 / 协议

GET www.baidu.com HTTP 1.1

#### 请求头

键值对的形式，常见的有Host，Cache-Control，Connection，Range，User-Agent等等

#### 请求体

内容键值对用&拼接



