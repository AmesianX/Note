## HTTPS

在HTTP的基础上加了SSL/TLS的加密层，保障了客户端和服务端连接的安全性

- 客户端将自己支持的加密算法发送到服务端
- 服务端收到后选择其中一种算法和HASH算法，并将用来表达服务端身份信息的以 **证书** 的形式返回给客户端 ，包含了网站地址、 **公钥** ，证书的颁发机构等等
- 客户端检验 **证书** 是否合法，如果颁布的机构合法，证书未过期，或者用户信任不合法的证书，则通过证书的验证。通过验证后客户端生成一组随机数，并用 **公钥** 对其 **非对称加密** ，并用随机数对握手消息和握手消息的 **HASH签名** （校验是否被篡改）进行 **对称加密** 
- 服务端收到后密文后用 **私钥** 解密出随机数，然后用随机数解密出握手消息和 **握手消息的HASH签名** ，校验未被篡改后，用第二步中的服务端挑选的 **加密算法** 对握手消息和HASH签名进行 **对称加密** ，发送到客户端
- 客户端确认未被篡改后，后续请求都用之前的随机数和选择的加密算法进行 **对称加密**


![](http://images2015.cnblogs.com/blog/366784/201601/366784-20160127222221785-258650029.png)


